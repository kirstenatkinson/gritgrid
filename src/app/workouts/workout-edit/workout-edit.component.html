<div class="panel panel-default">
  <div class="panel-body">
    <form #f="ngForm" id="workout-edit" (ngSubmit)="onSubmit(f)">
      
      <!-- Workout Image -->
      <div class="form-group">
        <label for="name">Workout Image:</label>
        <input
          type="text"
          id="imageUrl"
          class="form-control"
          name="imageUrl"
          required
          [(ngModel)]="workout.imageUrl"
          #name="ngModel"
        />
      </div>

      <!-- Workout Name -->
      <div class="form-group">
        <label for="name">Workout Name:</label>
        <input
          type="text"
          id="name"
          class="form-control"
          name="name"
          required
          [(ngModel)]="workout.name"
          #name="ngModel"
        />
      </div>

      <!-- Duration -->
      <div class="form-group">
        <label for="duration">Duration (minutes):</label>
        <input
          type="number"
          id="duration"
          class="form-control"
          name="duration"
          [(ngModel)]="workout.duration"
        />
      </div>

      <!-- Intensity -->
      <div class="form-group">
        <label for="intensity">Intensity:</label>
        <select
          id="intensity"
          class="form-control"
          name="intensity"
          [(ngModel)]="workout.intensity"
        >
          <option value="Low">Low</option>
          <option value="Medium">Medium</option>
          <option value="High">High</option>
        </select>
      </div>

      <!-- Exercises -->
      <div class="form-group">
        <label>Exercises:</label>
        <div *ngFor="let ex of workout.exercises; let i = index" class="row mb-2">
          <div class="col-sm-4">
            <input class="form-control" placeholder="Exercise name" [(ngModel)]="ex.name" name="name{{i}}" />
          </div>
          <div class="col-sm-2">
            <input class="form-control" type="number" placeholder="Sets" [(ngModel)]="ex.sets" name="sets{{i}}" />
          </div>
          <div class="col-sm-2">
            <input class="form-control" type="number" placeholder="Reps" [(ngModel)]="ex.reps" name="reps{{i}}" />
          </div>
          <div class="col-sm-2">
            <button type="button" class="btn btn-danger" (click)="removeExercise(i)">Ã—</button>
          </div>
        </div>
        <button type="button" class="btn btn-link" (click)="addExercise()">+ Add Exercise</button>
      </div>

      <!-- Validation Errors -->
      <div *ngIf="name.invalid && name.touched" class="alert alert-danger">
        Workout name is required.
      </div>

      <!-- Submit & Cancel -->
      <div class="form-group mt-3">
        <button class="btn btn-success" type="submit" [disabled]="!f.form.valid">Save</button>
        <button class="btn btn-primary" type="button" (click)="onCancel()">Cancel</button>
      </div>

    </form>
  </div>
</div>
